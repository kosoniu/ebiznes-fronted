<div class="row" *ngIf="loggedIn">
  <div class="col">
    <h2>Dodaj klasę</h2>
    <form [formGroup]="classForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="name" class="form-label">Nazwa</label>
        <input
          type="text"
          id="name"
          formControlName="name"
          class="form-control">
      </div>
      <div class="mb-3">
        <label for="description" class="form-label">Opis</label>
        <textarea
          id="description"
          formControlName="description"
          class="form-control"
          rows="3"></textarea>
      </div>
      <div class="mb-3">
        <label for="hitDice" class="form-label">Kość wytrzymałości</label>
        <input
          type="number"
          id="hitDice"
          formControlName="hitDice"
          class="form-control">
      </div>
      <div class="mb-3">
        <label for="healthPoints" class="form-label">Punkty wytrzymałości</label>
        <input
          type="number"
          id="healthPoints"
          formControlName="healthPoints"
          class="form-control">
      </div>
      <div class="mb-3">
        <label for="healthPointsOnHigherLevels" class="form-label">Punkty wytrzymałości na wyższych poziomach</label>
        <input
          type="number"
          id="healthPointsOnHigherLevels"
          formControlName="healthPointsOnHigherLevels"
          class="form-control">
      </div>
      <div class="mb-3">
        <label for="proficiencies" class="form-label">Biegłości</label>
        <ng-multiselect-dropdown
          id="proficiencies"
          formControlName="proficiencies"
          [settings]="dropdownSettings"
          [data]="dropdownList"
          [(ngModel)]="selectedItems"
          [placeholder]="'Wybierz biegłości'"
        >
        </ng-multiselect-dropdown>
      </div>
      <div class="mb-3">
        <button
          type="submit"
          class="btn btn-success"
          [disabled]="!classForm.valid">Dodaj
        </button>
      </div>
    </form>
  </div>
</div>
<div class="row">
  <div class="col">
    <app-class-item
      *ngFor="let clazz of classes"
      [id]="clazz.clazz.id"
      [name]="clazz.clazz.name"
      [description]="clazz.clazz.description"
      [hitDice]="clazz.clazz.hitDice"
      [healthPoints]="clazz.clazz.healthPoints"
      [healthPointsOnHigherLevels]="clazz.clazz.healthPointsOnHigherLevels"
      [proficiencies]="clazz.proficiencies"
      (stateChanged)="onDelete($event)"
    ></app-class-item>
  </div>
</div>
